(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[777],{9179:function(e,n,o){"use strict";o(9600),function(){jQuery.extend(BookReader.defaultOptions,{enableMenuToggle:!0});var e=!1;function n(e){e.refs&&e.refs.$BRnav&&e.refs.$BRnav.children(".BRnavCntl").css("display","none")}var o,t,i=!1,r=function(n,o,t){if(!e){var r,a,c=(r=document.querySelector(".BRcontainer")).scrollWidth>r.offsetWidth?n.refs.$brContainer[0]:o.currentTarget,s=n.constMode1up===n.mode||function(e,n){var o=e.clientX,t=n.offsetWidth,i=n.offsetLeft,r=Math.round(t/3),a=Math.round(r+i),c=Math.round(t-r+i);return o>a&&o<c}(o,c);(t?s:(a=o.target,$(a).hasClass("BookReader")||$(a).hasClass("BRcontainer")||$(a).hasClass("BRemptypage")||$(a).hasClass("BRpageview")||$(a).hasClass("BRtwopageview")))&&(function(e){i||(i=!0,$(document).on("BookReader:navToggled",(function e(){i=!1,window.removeEventListener("BookReader:navToggled",e)})),e.navigationIsVisible()?e.hideNavigation():e.showNavigation())}(n),t&&o.stopPropagation())}};function a(e,n){r(e,n)}function c(e,n){r(e,n,!0)}function s(n){var i=document.querySelector(".BookReader");if(i){i.addEventListener("click",a.bind(null,n),{capture:!0,passive:!0});var r=(document.querySelector(".BRcontainer")||{}).firstChild;r&&(r.addEventListener("click",c.bind(null,n),!0),function(){var n=document.querySelector(".BookReader");n&&(n.addEventListener("mousedown",(function(n){o=n.screenX,t=n.screenY,e=!0}),!0),n.addEventListener("mouseup",(function(n){Math.abs(o-n.screenX)>5||Math.abs(t-n.screenY)>5||(e=!1,o=0,t=0)}),!0))}())}}var d,u=function(e){var o=!1;try{o=e.navigationIsVisible()}catch(e){o=!1}if(o){var t=function(n){s(e)},i=function(o){!function(e){n(e),s(e)}(e)};$(document).on(["BookReader:3PageViewSelected"].join(" "),(function(o){!function(e){n(e),function(e){e.refs.$brPageViewEl&&e.refs.$brPageViewEl[0].removeEventListener("click",c,!0),e.refs.$brTwoPageView&&e.refs.$brTwoPageView[0].removeEventListener("click",c,!0)}(e),e.showNavigation()}(e)})),$(document).on(["BookReader:1PageViewSelected","BookReader:2PageViewSelected","BookReader:zoomIn","BookReader:zoomOut","BookReader:resize"].join(" "),t),$(window).on("orientationchange",t),$(document).on("BookReader:fullscreenToggled",i),$(window).on("DOMContentLoaded",i),i()}};BookReader.prototype.setup=(d=BookReader.prototype.setup,function(e){d.call(this,e)}),BookReader.prototype.init=function(e){return function(){e.call(this),this.options.enableMenuToggle&&u(this)}}(BookReader.prototype.init)}()}},0,[[9179,898]]]);
//# sourceMappingURL=plugin.menu_toggle.js.map